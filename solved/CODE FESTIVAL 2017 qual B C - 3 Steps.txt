#include <iostream>
#include <vector>
#include <limits.h>
#include <algorithm>
#include <string>
#include <math.h>
#include <limits.h>
#include <queue>
#include <map>
#include <set>
#include <iomanip>
#include <bitset>
#include <cassert>
#include <random>
#include <functional>
#include <stack>
#include <iomanip>
#include <cassert>
//#include <boost/multiprecision/cpp_int.hpp>
#include <complex>

using namespace std;
const long long MOD = 1e9 + 7;
typedef long long ll;
typedef long double ld;
typedef pair<ll, ll> pll;
typedef pair<ld, ll> pdl;
typedef pair<ld, ld> pdd;
//typedef boost::multiprecision::cpp_int bigint;

ll N, M;
vector<vector<ll>> edges;
vector<ll> check;

bool isBiparateGraph() {
	check.resize(N, -1);
	stack<pll> st;
	st.push(pll(0, 0));   //’¸“_AF
	while (!st.empty()) {
		pll cur = st.top();
		st.pop();
		if (check[cur.first] == -1) {
			check[cur.first] = cur.second;
			for (ll ch : edges[cur.first]) {
				st.push(pll(ch, 1 - cur.second));
			}
		}
		else {
			if (check[cur.first] != cur.second) {
				return false;
			}
		}
	}
	return true;
}

int main() {
	cin >> N >> M;
	edges.resize(N);
	for (ll m = 0; m < M; m++) {
		ll a, b;
		cin >> a >> b;
		edges[--a].push_back(--b);
		edges[b].push_back(a);
	}
	bool isb = isBiparateGraph();
	if (isb) {
		ll zero = 0, one = 0;
		for (ll n = 0; n < N; n++) {
			if (check[n] == 0)zero++;
			else one++;
		}
		cout << zero * one - M << endl;
		return 0;
	}
	else {
		cout << N * (N - 1) / 2 - M << endl;
		return 0;
	}
}