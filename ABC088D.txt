#include <iostream>
#include <string>
#include <stack>
#include <vector>
#include <queue>

using namespace std;

void solve();

int main() {
	solve();
	return 0;
}

//////////////////////////////////////////////////
//////////////////////////////////////////////////

class pos {
public:
	int x, y;
	pos(int _x, int _y):x(_x),y(_y){}
	pos():x(0),y(0){}
};

int H, W;
int map[50][50];
void bfs();

bool isIn(pos p) {
	if (p.x >= 0 && p.x < W && p.y >= 0 && p.y < H)return true;
	return false;
}

pos operator+(pos a,pos b) {
	return pos(a.x+b.x,a.y+b.y);
}

void solve() {
	cin >> H >> W;
	int black = 0;
	for (int y = 0; y < H; y++) {
		string s;
		cin >> s;
		for (int x = 0; x < W; x++) {
			if (s[x] == '#') {   //•
				black++;
				map[x][y] = -1;   //’Ê‚ê‚È‚¢
			}
			else {
				map[x][y] = 50 * 50;
			}
		}
	}
	bfs();
	if (map[W-1][H-1] == 50*50)cout << "-1";
	else cout << H * W - map[W - 1][H - 1] - black;
	return;
}

void bfs() {
	queue<pair<pos, int>> q;
	q.push(pair<pos,int>(pos(0,0),1));
	while (!q.empty()) {
		pos p = q.front().first;
		int d = q.front().second;
		q.pop();
		if (map[p.x][p.y] <= d)continue;
		map[p.x][p.y] = d;
		pos vecs[4] = {pos(1,0),pos(0,1),pos(-1,0),pos(0,-1)};
		for (int v = 0; v < 4; v++) {
			pos n = p + vecs[v];
			if (!isIn(n))continue;
			if (map[n.x][n.y] == -1)continue;
			q.push(pair<pos,int>(n,d+1));
		}
	}
	return;
}